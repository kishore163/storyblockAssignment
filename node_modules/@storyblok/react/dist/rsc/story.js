"use strict";const r=require("react/jsx-runtime"),i=require("react"),s=require("../server/server-component.js"),l=require("./live-editing.js"),u=i.forwardRef(({story:e,bridgeOptions:t,...o},n)=>{if(!e)return console.error("Please provide a 'story' property to the StoryblokServerComponent"),null;if(globalThis!=null&&globalThis.storyCache.has(e.uuid)&&(e=globalThis.storyCache.get(e.uuid),globalThis.storyCache.delete(e.uuid)),typeof e.content=="string")try{e.content=JSON.parse(e.content)}catch(c){console.error("An error occurred while trying to parse the story content",c),e.content={}}return r.jsxs(r.Fragment,{children:[r.jsx(s,{ref:n,blok:e.content,...o}),r.jsx(l,{story:e,bridgeOptions:t})]})});module.exports=u;
